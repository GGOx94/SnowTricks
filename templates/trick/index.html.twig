{% extends 'base.html.twig' %}

{% block title %}Hello TrickController!{% endblock %}

{% block body %}

    {# TODO MOVE TMP STYLE HERE TO CSS #}
    <style>
        .trick-container {
            padding-top: 5vh;
        }
        .hero {
            position: relative;
        }
        .hero .title {
            position: absolute;
            top:45%;
        }
        .hero .picture {
            width:100%;
            max-height: 600px;
        }
    </style>

<div class="trick-container container">

    <div class="hero text-center">
        <h1 class="title display-1 fw-bold text-center w-100">{{ trick.title|raw }}</h1>
        <img src="{{ mainPicture }}" class="picture" alt="Présentation du trick {{ trick.title|raw }}">
    </div>

    <div class="trick-media-container">

        {# TODO skip first pic (already displayed) #}
        {% for pic in trick.pictures %}
            <div class="picture">
                [PIC]
            </div>
        {% endfor %}

        {% for vid in trick.videos %}
            <div class="video">
                [VID]
            </div>
        {% endfor %}

    </div>

        <p>
            {{ trick.description|raw }}
        </p>

    <div>
        <small>Groupe : {{ trick.category.label }} - </small>
        <small>Trick créé le : {{ trick.createdAt|date("m/d/Y") }}</small>
            {% if trick.modifiedAt %}
                <small>Trick créé le : {{ trick.modifiedAt|date("m/d/Y") }}</small>
            {% endif %}
    </div>

    <hr>
    <h3>[TODO : Formulaire commentaire si connecté]</h3>
    <hr>
    <h2> Commentaires !</h2>
    <hr>

    <ul>
    {%  for com in trick.comments %}
        <li>
            <h3>{{ com.author.name }}</h3>
            <p>{{ com.content }}</p>
            <small>Publié le : {{ com.createdAt|date("m/d/Y") }}</small>
        </li>

    {% endfor %}
    </ul>

</div>

{% endblock %}
